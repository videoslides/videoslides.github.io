(window["webpackJsonpmy-app"]=window["webpackJsonpmy-app"]||[]).push([[0],{11:function(e,t,n){},22:function(e,t,n){e.exports=n(34)},27:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(12),l=n.n(i);n(27),n(11);var c=function(){return r.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("p",{className:"navbar-item"},"Slideshow App")))},s=n(5),o=n(6),d=n(9),u=n(7),p=n(8),m=n(2),b=function(){return function(e){e({type:"ADD_SLIDE"})}},f=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.slides;return r.a.createElement("div",null,r.a.createElement("div",{className:"is-flex"},t.map((function(t,n){return r.a.createElement("div",null,r.a.createElement("p",null,n),r.a.createElement("div",{key:"slide".concat(n),className:"has-text-centered clickableBox box paddedBox\n                             ".concat(n==e.props.current_slide?"selectedBox":null),style:{width:"100px",height:"100px"},onClick:function(){e.props.handleSlideSelection(n)}},r.a.createElement("img",{src:e.props.slides[n].image})))})),r.a.createElement("div",null,"Add Slide",r.a.createElement("div",{className:"has-text-centered clickableBox box paddedBox is-vcentered",style:{width:"100px",height:"100px"},onClick:function(){e.props.AddSlide()}},r.a.createElement("img",{src:"https://cdn3.iconfinder.com/data/icons/ui-icons-5/16/plus-small-01-512.png"})))))}}]),t}(a.Component),h=Object(m.b)((function(e){return{slides:e.slide.slides,current_slide:e.slideSelection.current_slide,lastSlideUpdated:e.slide.lastSlideUpdated,lastUpdateTime:e.slide.lastUpdateTime}}),{handleSlideSelection:function(e){return function(t){t({type:"SLIDE_SELECTION",slide:e})}},AddSlide:b})(f),E=n(10),v=n.n(E),g=n(18),O=n(13),y=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={image:"",caption:"",captionColor:"black"},n.handleImgUpload=n.handleImgUpload.bind(Object(O.a)(n)),n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.drawImage(),document.getElementById("duration").options.selectedIndex=this.props.slides[this.props.current_slide].duration}},{key:"drawImage",value:function(){var e=this,t=document.getElementById("myCanvas"),n=t.getContext("2d"),a=new Image;a.onload=function(){n.drawImage(a,0,0,400,300),n.font="20pt Calibri",n.fillStyle="#ffffff",n.fillText(e.state.caption||e.props.slides[e.props.current_slide].caption,20,20)},a.src=this.state.image||this.props.slides[this.props.current_slide].image,n.drawImage(a,0,0,a.width,a.height,0,0,t.width,t.height)}},{key:"handleImgUpload",value:function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({image:URL.createObjectURL(t.target.files[0])});case 2:this.drawImage();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleCaptionChange",value:function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({caption:t.target.value});case 2:this.drawImage();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.slides[this.props.current_slide],n=t.image,a=(t.durationProp,t.caption);return r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column is-half"},r.a.createElement("div",{className:"box",style:{height:"420px"}},r.a.createElement("label",{className:"label has-text-left"},"Upload image file"),r.a.createElement("br",null),r.a.createElement("input",{type:"file",onChange:this.handleImgUpload,id:"imgupload"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label has-text-left"},"Duration"),r.a.createElement("div",{className:"control"},r.a.createElement("div",{className:"select"},r.a.createElement("select",{id:"duration"},r.a.createElement("option",null,"1 second"),r.a.createElement("option",null,"2 seconds"),r.a.createElement("option",null,"3 seconds"),r.a.createElement("option",null,"4 seconds"))))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label has-text-left"},"Caption"),r.a.createElement("div",{className:"control"},r.a.createElement("textarea",{className:"textarea",placeholder:"Add a caption for current slide",value:this.state.caption||a,onChange:function(t){e.handleCaptionChange(t)}}))),r.a.createElement("div",{className:"field is-grouped"},r.a.createElement("div",{className:"control"},r.a.createElement("button",{className:"button is-link",onClick:function(){return e.props.ModifySlide(e.state.image||n,document.getElementById("duration").options.selectedIndex,e.state.caption||a,e.state.captionColor,e.props.current_slide)}},"Submit")),r.a.createElement("div",{className:"control"},r.a.createElement("button",{className:"button is-link",disabled:!0},"Delete Slide")),r.a.createElement("div",{className:"control"},r.a.createElement("button",{className:"button is-success",onClick:function(){return e.props.RepositionSlide(e.props.current_slide,-1,e.props.slides.length)}},"<")),r.a.createElement("div",{className:"control"},r.a.createElement("button",{className:"button is-success",onClick:function(){return e.props.RepositionSlide(e.props.current_slide,1,e.props.slides.length)}},">"))))),r.a.createElement("div",{className:"column is-half"},r.a.createElement("div",{className:"box",style:{height:"420px"}},r.a.createElement("label",{className:"label has-text-left"},"Image Preview"),r.a.createElement("canvas",{id:"myCanvas",width:"400",height:"300"}))))}}]),t}(a.Component),N=Object(m.b)((function(e){return{current_slide:e.slideSelection.current_slide,slides:e.slide.slides,lastUpdate:e.slide.lastUpdate}}),{AddSlide:b,ModifySlide:function(e,t,n,a,r){return function(i){var l=!1;(isNaN(t)||t<1)&&(l=!0),i({type:"MODIFY_SLIDE",image:e,duration:t,caption:n,captionColor:a,slideNumber:r,error:l})}},RepositionSlide:function(e,t,n){return function(a){var r=e+parseInt(t);r<0||r>=n||1===n||(a({type:"REPOSITION_SLIDE",slideNumber:e,newPosition:r}),a({type:"SLIDE_SELECTION",slide:r}))}}})(y),S=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container is-centered",style:{flex:1}},r.a.createElement(h,null),r.a.createElement("br",null),r.a.createElement("label",{className:"label has-text-centered"},"Modifying Slide ",this.props.current_slide),r.a.createElement("br",null),r.a.createElement(N,{key:this.props.current_slide}),r.a.createElement("button",{className:"button is-medium is-link",disabled:!0},"Generate Video"))}}]),t}(a.Component),w=Object(m.b)((function(e){return{current_slide:e.slideSelection.current_slide}}),{})(S),j=n(3),I=n(21),x=n(14);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _={slides:[{image:"",duration:0,caption:"",captionColor:"black",error:!0}]};function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L={current_slide:0},U=Object(j.c)({slide:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_SLIDE":var a={image:"",duration:0,caption:"",captionColor:"black",error:!0};return console.log(t.slides.concat(a)),C({},t,{slides:t.slides.concat(a)});case"MODIFY_SLIDE":return(e=JSON.parse(JSON.stringify(t.slides)))[n.slideNumber]={image:n.image,duration:n.duration,caption:n.caption,captionColor:n.captionColor,error:n.error},C({},t,{slides:e});case"REPOSITION_SLIDE":e=JSON.parse(JSON.stringify(t.slides)),console.log(e);var r=e[n.slideNumber],i=e[n.newPosition];return e[n.newPosition]=r,e[n.slideNumber]=i,console.log(e),C({},t,{slides:e});default:return C({},t)}},slideSelection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SLIDE_SELECTION":return P({},e,{current_slide:t.slide});default:return e}}}),B=[I.a],A=Object(j.e)(U,{},Object(j.d)(j.a.apply(void 0,B)));var T=function(){return r.a.createElement(m.a,{store:A},r.a.createElement("div",{className:"App"},r.a.createElement(c,null),r.a.createElement(w,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[22,1,2]]]);
//# sourceMappingURL=main.026d2c99.chunk.js.map